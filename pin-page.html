<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/pin-page.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>
    <div class="main-section">
        <div class="pin-heading">
            <h1>أنشئ كلمة السر</h1>
        </div>

        <div class="pin-boxes">
            <div class="pin-box"></div>
            <div class="pin-box"></div>
            <div class="pin-box"></div>
            <div class="pin-box"></div>
            <div class="pin-box"></div>
            <div class="pin-box"></div>
        </div>

        <div class="keypad">
            <div class="keypad-row">
                <div class="keypad-num">1</div>
                <div class="keypad-num">2</div>
                <div class="keypad-num">3</div>
            </div>
            <div class="keypad-row">
                <div class="keypad-num">4</div>
                <div class="keypad-num">5</div>
                <div class="keypad-num">6</div>
            </div>
            <div class="keypad-row">
                <div class="keypad-num">7</div>
                <div class="keypad-num">8</div>
                <div class="keypad-num">9</div>
            </div>
            <div class="keypad-row">
                <div class="keypad-num empty"></div> <!-- Empty div to center "0" -->
                <div class="keypad-num">0</div>
                <div class="keypad-num remove"><ion-icon name="backspace-outline"></ion-icon></div>
            </div>
        </div>

    </div>
</body>

</html>

<script>
    let pinInput = ''; // this will store pin input

    const pinBoxes = document.querySelectorAll('.pin-box');
    const keypadButtons = document.querySelectorAll('.keypad-num');

    keypadButtons.forEach(button => {
        button.addEventListener('click', function () {
            const value = button.textContent || button.innerText;

            if (value !== 'X' && pinInput.length < 6) {
                pinInput += value;
                updatePinBoxes();
            }
        });
    });

    // Add event listener to the remove (backspace) button
    const removeButton = document.querySelector('.keypad-num.remove');
    removeButton.addEventListener('click', function () {
        pinInput = pinInput.slice(0, -1);
        updatePinBoxes();
    });

    // Function to update the pin boxes based on the input
    function updatePinBoxes() {
        pinBoxes.forEach((box, index) => {
            if (pinInput[index]) {
                box.classList.add('filled');
            } else {
                box.classList.remove('filled');
            }
        });
    }

</script>